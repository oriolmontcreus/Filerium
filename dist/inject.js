(()=>{"use strict";console.log("Inject script executing"),function(){if(window.fileInputInterceptorActive)return void console.log("File input interceptor already active");window.fileInputInterceptorActive=!0,console.log("Initializing file input interceptor");let e=null;document.addEventListener("click",(function(n){if(!window.fileInputInterceptorActive)return;const t=n.target;console.log("Click detected on:",t),t instanceof HTMLInputElement&&"file"===t.type?(console.log("File input click intercepted:",t),n.preventDefault(),n.stopPropagation(),function(n){console.log("Creating overlay for file input:",n);const t="\n            background: #5688C7;\n            color: white;\n            padding: 10px 20px;\n            border: 2px solid #333;\n            border-radius: 12px;\n            display: inline-block;\n            transition: background-color 0.3s ease, transform 0.3s ease;\n            cursor: pointer;\n            margin: 4px 2px;\n        ";function o(e,n){const o=document.createElement("button");return o.style.cssText=t,o.innerHTML=e,o.onclick=n,o.onmouseover=()=>o.style.cssText+="\n            background: #416ba5;\n            transform: scale(1.05);\n        ",o.onmouseout=()=>o.style.cssText=t,o}const i=document.createElement("div");i.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.5);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 9999;\n            user-select: none;\n        ";const l=document.createElement("div");function c(){i.remove()}l.style.cssText="\n            background: #252525;\n            padding: 20px;\n            border-radius: 12px;\n            border: 3px solid #333;\n            text-align: center;\n        ",l.onclick=e=>e.stopPropagation(),i.onclick=c;const r=o('\n            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder-search" style="vertical-align: middle;">\n                <circle cx="17" cy="17" r="3"/>\n                <path d="M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1"/>\n                <path d="m21 21-1.5-1.5"/>\n            </svg>\n        ',(()=>{console.log("Browse Files button clicked"),c();try{window.fileInputInterceptorActive=!1,n.click()}finally{window.fileInputInterceptorActive=!0}})),s=o('\n            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-paste" style="vertical-align: middle;">\n                <path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/>\n                <path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/>\n                <path d="m17 10 4 4-4 4"/>\n            </svg>\n        ',(()=>{if(console.log("Paste Image button clicked"),e){const t=function(e){const n=atob(e.split(",")[1]),t=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(n.length),i=new Uint8Array(o);for(let e=0;e<n.length;e++)i[e]=n.charCodeAt(e);return new Blob([o],{type:t})}(e.fileDataUrl),o=new File([t],"pasted_image.png",{type:e.mimeType}),i=new DataTransfer;i.items.add(o),n.files=i.files,n.dispatchEvent(new Event("change",{bubbles:!0}))}c()}));s.style.display="none";const a=document.createElement("img");a.style.cssText="\n            max-width: 240px;\n            max-height: 240px;\n            margin-top: 10px;\n            display: none;\n            border: 3px solid #333;\n            border-radius: 14px;\n        ",l.appendChild(r),l.appendChild(s),l.appendChild(a),i.appendChild(l),document.body.appendChild(i),console.log("Overlay added to the document"),window.postMessage({type:"GET_CLIPBOARD_CONTENTS"},"*")}(t)):console.log("Click detected but not on file input:",t)}),!0),window.addEventListener("message",(function(n){if(n.data&&"CLIPBOARD_CONTENTS_RESPONSE"===n.data.type){console.log("Received clipboard contents:",n.data.clipboardData),e=n.data.clipboardData;const t=document.querySelector('div[style*="position: fixed"]');if(t){const n=t.querySelector("button:nth-child(2)"),o=t.querySelector("img");e&&e.mimeType.startsWith("image/")&&(n.style.display="inline-block",o.src=e.fileDataUrl,o.style.display="block")}}})),console.log("File input interceptor initialized")}()})();