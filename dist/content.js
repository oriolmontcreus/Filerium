(()=>{"use strict";!function(){function e(){document.querySelectorAll("iframe").forEach(((e,t)=>{try{e.id||(e.id=`injected-frame-${t}`);const n=e.contentWindow;if(n){const t=e.contentDocument||n.document;if(t){const e=t.createElement("script");try{e.src=chrome.runtime.getURL("dist/inject.js")}catch(e){console.log("Extension context is invalid. Please refresh the page.")}t.head.appendChild(e)}}}catch(t){console.log(`Failed to inject script into iframe ${e.id}: ${t}`)}}))}!function(){const e=document.createElement("script");try{e.src=chrome.runtime.getURL("dist/inject.js")}catch(e){console.log("Extension context is invalid. Please refresh the page.")}(document.head||document.documentElement).appendChild(e)}(),function t(){document.body?(e(),new MutationObserver((()=>{e()})).observe(document.body,{childList:!0,subtree:!0})):setTimeout(t,100)}(),window.addEventListener("message",(function(e){e.data&&"REQUEST_CLIPBOARD_HELPER"===e.data.type&&chrome.runtime.sendMessage({action:"openClipboardHelper",frameId:e.data.frameId})}),!1),chrome.runtime.onMessage.addListener(((e,t,n)=>{if(e.fileDataUrl&&e.mimeType){const t={type:"CLIPBOARD_DATA",clipboardData:{fileDataUrl:e.fileDataUrl,mimeType:e.mimeType}};if("top"===e.frameId)window.postMessage(t,"*");else{const n=document.getElementById(e.frameId);n&&n.contentWindow?n.contentWindow.postMessage(t,"*"):console.error(`Frame with id ${e.frameId} not found or doesn't have a content window`)}n({success:!0})}return!0}))}()})();